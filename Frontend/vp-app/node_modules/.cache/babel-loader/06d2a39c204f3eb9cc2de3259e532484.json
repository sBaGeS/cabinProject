{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pauli\\\\Desktop\\\\groupC\\\\Frontend\\\\vp-app\\\\src\\\\components\\\\pages\\\\agencyInfo\\\\AgencyInfoTable.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Button from '@material-ui/core/Button';\nimport { getAdmin } from \"../../../Utils/Common\";\nimport EditAgencyDialog from '../../editAgency/EditAgencyDialog';\nconst useStyles = makeStyles({\n  cabinDiv: {\n    display: 'grid',\n    background: 'navy',\n    padding: 8,\n    maxWidth: 600,\n    maxHeight: 400\n  },\n  tableHeader: {\n    backgroundColor: 'navy'\n  },\n  tableHeaderCell: {\n    color: 'white'\n  },\n  agencyInfo: {\n    margin: 4,\n    height: 250\n  },\n  editButton: {\n    margin: 4,\n    backgroundColor: 'navy',\n    color: 'white',\n    minWidth: 50\n  }\n});\nexport default function GetAgencyInfo(props) {\n  const classes = useStyles();\n  const token = sessionStorage.getItem('token');\n  const [id, setId] = useState(0);\n  const [agencies, setAgencies] = useState([]);\n  const [edit, setEdit] = useState(false);\n  let dialog;\n  useEffect(() => {\n    const getAgencies = () => {\n      axios.get(\"http://localhost:3001/agency\", {\n        headers: {\n          token: token\n        }\n      }).then(function (response) {\n        console.log(response);\n        setAgencies(response.data.Agencies);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    getAgencies();\n  }, []);\n\n  if (edit) {\n    dialog = React.createElement(EditAgencyDialog, {\n      id: id,\n      edit: setEdit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    });\n  } else {\n    dialog = \"\";\n  }\n\n  if (agencies.length > 0) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(TableContainer, {\n      component: Paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Table, {\n      className: classes.table,\n      \"aria-label\": \"customized table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(TableHead, {\n      className: classes.tableHeader,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(TableRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      className: classes.tableHeaderCell,\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Name\"), React.createElement(TableCell, {\n      className: classes.tableHeaderCell,\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Address\"), React.createElement(TableCell, {\n      className: classes.tableHeaderCell,\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Postcode\"), React.createElement(TableCell, {\n      className: classes.tableHeaderCell,\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Postarea\"), React.createElement(TableCell, {\n      className: classes.tableHeaderCell,\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Phonenumber\"), React.createElement(TableCell, {\n      className: classes.tableHeaderCell,\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Email\"), React.createElement(TableCell, {\n      className: classes.tableHeaderCell,\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Edit\"), React.createElement(TableCell, {\n      className: classes.tableHeaderCell,\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Delete\"))), React.createElement(TableBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, agencies.map((agency, i) => React.createElement(TableRow, {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, agency.name), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, agency.address), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, agency.postcode), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, agency.postarea), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, agency.phonenumber), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, agency.email), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: classes.editButton,\n      onClick: () => edit ? setEdit(false) + setId(agency.agency_id) : setId(agency.agency_id) + setEdit(true),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Edit\")), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: classes.editButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Delete\"))))))), dialog);\n  } else {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"No agencies found\");\n  }\n}","map":{"version":3,"sources":["C:/Users/Pauli/Desktop/groupC/Frontend/vp-app/src/components/pages/agencyInfo/AgencyInfoTable.js"],"names":["React","useState","useEffect","axios","makeStyles","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Button","getAdmin","EditAgencyDialog","useStyles","cabinDiv","display","background","padding","maxWidth","maxHeight","tableHeader","backgroundColor","tableHeaderCell","color","agencyInfo","margin","height","editButton","minWidth","GetAgencyInfo","props","classes","token","sessionStorage","getItem","id","setId","agencies","setAgencies","edit","setEdit","dialog","getAgencies","get","headers","then","response","console","log","data","Agencies","catch","error","length","table","map","agency","i","name","address","postcode","postarea","phonenumber","email","agency_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Button from '@material-ui/core/Button';\r\nimport {getAdmin} from \"../../../Utils/Common\"\r\nimport EditAgencyDialog from '../../editAgency/EditAgencyDialog';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    cabinDiv: {\r\n        display: 'grid',\r\n        background: 'navy',\r\n        padding: 8,\r\n        maxWidth: 600,\r\n        maxHeight: 400\r\n    },\r\n    tableHeader: {\r\n        backgroundColor: 'navy',\r\n        \r\n    },\r\n    tableHeaderCell: {\r\n        color: 'white'\r\n    },\r\n    agencyInfo: {\r\n        margin: 4,\r\n        height: 250\r\n       \r\n    },\r\n    editButton: {\r\n        margin: 4,\r\n        backgroundColor: 'navy',\r\n        color: 'white',\r\n        minWidth: 50,\r\n    },\r\n\r\n});\r\n\r\nexport default function GetAgencyInfo(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const token = sessionStorage.getItem('token');\r\n\r\n    const [id, setId] = useState(0);\r\n\r\n    const [agencies, setAgencies] = useState([]);\r\n\r\n    const [edit, setEdit] = useState(false);\r\n    let dialog;\r\n\r\n\r\n    useEffect(() => {\r\n        const getAgencies = () => {\r\n            axios.get(\"http://localhost:3001/agency\", {\r\n                headers: {\r\n                    token: token\r\n                }\r\n            })\r\n                .then(function (response) {\r\n                    console.log(response);\r\n                    setAgencies(response.data.Agencies);\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error);\r\n                })\r\n        }\r\n        getAgencies();\r\n    }, []);\r\n\r\n    \r\n    if(edit){\r\n        dialog = <EditAgencyDialog id = {id} edit = {setEdit}/>;\r\n    }\r\n    else{\r\n        dialog = \"\";\r\n    }\r\n\r\n    if(agencies.length > 0){\r\n    return (\r\n        <div>\r\n             <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"customized table\">\r\n        <TableHead className = {classes.tableHeader}>\r\n          <TableRow>\r\n            <TableCell className={classes.tableHeaderCell} align=\"center\">Name</TableCell>\r\n            <TableCell className={classes.tableHeaderCell} align=\"center\">Address</TableCell>\r\n            <TableCell className={classes.tableHeaderCell} align=\"center\">Postcode</TableCell>\r\n            <TableCell className={classes.tableHeaderCell} align=\"center\">Postarea</TableCell>\r\n            <TableCell className={classes.tableHeaderCell} align=\"center\">Phonenumber</TableCell>\r\n            <TableCell className={classes.tableHeaderCell} align=\"center\">Email</TableCell>\r\n            <TableCell className={classes.tableHeaderCell} align=\"center\">Edit</TableCell>\r\n            <TableCell className={classes.tableHeaderCell} align=\"center\">Delete</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n        {agencies.map((agency, i) => <TableRow key = {i}>\r\n            <TableCell align=\"center\">{agency.name}</TableCell>\r\n            <TableCell align=\"center\">{agency.address}</TableCell>\r\n            <TableCell align=\"center\">{agency.postcode}</TableCell>\r\n            <TableCell align=\"center\">{agency.postarea}</TableCell>\r\n            <TableCell align=\"center\">{agency.phonenumber}</TableCell>\r\n            <TableCell align=\"center\">{agency.email}</TableCell>\r\n            <TableCell align=\"center\"><Button className={classes.editButton} onClick={() => edit ? setEdit(false) + setId(agency.agency_id) : setId(agency.agency_id) + setEdit(true)}>Edit</Button></TableCell>\r\n            <TableCell align=\"center\"><Button className={classes.editButton}>Delete</Button></TableCell>\r\n            </TableRow>)}\r\n        </TableBody>\r\n        </Table>\r\n            </TableContainer>\r\n            {dialog}\r\n        </div>\r\n    )\r\n    }\r\n    else{\r\n        return(\r\n            <div>\r\n                No agencies found\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}