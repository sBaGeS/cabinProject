{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pauli\\\\Desktop\\\\groupC\\\\Frontend\\\\vp-app\\\\src\\\\components\\\\getServiceBills\\\\GetServiceBills.js\";\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport axios from 'axios';\nimport { getToken, getAdmin } from '../../Utils/Common';\nimport { isWidthDown } from '@material-ui/core';\nconst useStyles = makeStyles(() => ({\n  searchButton: {\n    marginTop: 5,\n    backgroundColor: 'navy',\n    color: 'white',\n    '&:hover': {\n      background: \"white\",\n      color: 'navy'\n    }\n  },\n  TextField: {\n    marginTop: 15,\n    marginLeft: 15,\n    backgroundColor: 'white',\n    flex: 1,\n    borderRadius: 4\n  }\n}));\nconst defaultProps = {\n  bgcolor: 'background.paper',\n  m: 1,\n  border: 2,\n  padding: 2,\n  borderRadius: 16,\n  borderColor: 'navy'\n};\nconst statusBox = {\n  bgcolor: 'background.paper',\n  border: 2,\n  padding: 2,\n  borderRadius: 10,\n  borderColor: 'navy',\n  width: 200,\n  align: 'left'\n};\nexport default function GetServiceBills(props) {\n  const classes = useStyles();\n  const [bills, setBills] = useState([]);\n  const [personId, setPersonId] = useState(\"\");\n  const [billId, setBillId] = useState(\"\");\n  const [serviceId, setServiceId] = useState(\"\");\n  const [serviceReservationId, setServiceReservationId] = useState(\"\");\n  const [paidChecked, setPaidChecked] = useState(false);\n  const [openChecked, setOpenChecked] = useState(false);\n  const [serverErrorMsg, setServerErrorMsg] = useState(\"\");\n  let token = getToken();\n\n  const axiosGetBills = query => {\n    axios.get(\"http://localhost:3001/service_bill?\" + query, {\n      headers: {\n        token: token\n      }\n    }).then(function (response) {\n      console.log(response);\n      setBills(response.data.Bills);\n    }).catch(function (error) {\n      console.log(error);\n      setServerErrorMsg(error);\n    });\n  };\n\n  const handlePostClicked = () => {\n    let query = \"\";\n\n    if (paidChecked) {\n      query += \"paid=\" + \"1\";\n    }\n\n    if (openChecked) {\n      query += \"paid=\" + \"0\";\n    }\n\n    if (billId != \"\") {\n      query += \"&bill_id=\" + billId;\n    }\n\n    if (personId != \"\") {\n      query += \"&person_id=\" + personId;\n    }\n\n    if (serviceId != \"\") {\n      query += \"&service_id=\" + serviceId;\n    }\n\n    if (serviceReservationId != \"\") {\n      query += \"&service_reservation_id=\" + serviceReservationId;\n    }\n\n    axiosGetBills(query);\n  };\n  /*\r\n      if(edit){\r\n          dialog = <EditServiceBillDialog price={price} paid={paid} duedate={duedate} id={id}/>;\r\n      }\r\n      else{\r\n          dialog = \"\";\r\n      }\r\n      */\n\n\n  return React.createElement(Box, Object.assign({\n    borderColor: \"navy\"\n  }, defaultProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"Service bills\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(Box, Object.assign({\n    borderColor: \"navy\"\n  }, statusBox, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"Bill status\"), \"Paid \", React.createElement(Checkbox, {\n    color: \"primary\",\n    disabled: openChecked,\n    checked: paidChecked,\n    onChange: e => setPaidChecked(paidChecked ? false : true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }), \"Open \", React.createElement(Checkbox, {\n    color: \"primary\",\n    disabled: paidChecked,\n    checked: openChecked,\n    onChange: e => setOpenChecked(openChecked ? false : true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  })), React.createElement(TextField, {\n    className: classes.TextField,\n    type: \"number\",\n    id: \"billId\",\n    label: \"Bill Id\",\n    value: billId,\n    onChange: e => setBillId(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    className: classes.TextField,\n    type: \"number\",\n    id: \"personId\",\n    label: \"Person Id\",\n    value: personId,\n    onChange: e => setPersonId(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    className: classes.TextField,\n    type: \"number\",\n    id: \"serviceId\",\n    label: \"Service Id\",\n    value: serviceId,\n    onChange: e => setServiceId(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    className: classes.TextField,\n    type: \"number\",\n    id: \"serviceReservationId\",\n    label: \"Service Reservation Id\",\n    value: serviceReservationId,\n    onChange: e => setServiceReservationId(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  })), React.createElement(Button, {\n    variant: \"contained\",\n    className: classes.searchButton,\n    onClick: () => handlePostClicked(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"Search\"), React.createElement(\"p\", {\n    style: {\n      color: \"red\",\n      fontWeight: 900,\n      fontSize: 16,\n      marginLeft: 130\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, serverErrorMsg)), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(TableContainer, {\n    component: Paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"customized table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(TableHead, {\n    className: classes.tableHeader,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, \"Bill ID\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, \"Service Reservation ID\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, \"Service ID\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"Service Name\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, \"Person ID\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, \"Customer\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, \"Email\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, \"Amount\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, \"Due date\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, \"Status\"))), React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, bills.map((bill, i) => React.createElement(TableRow, {\n    key: i,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, bill.service_bill_id), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, bill.service_reservation_id), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, bill.service_id), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, bill.name), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, bill.person_id), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, bill.firstname, \" \", bill.lastname), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, bill.email), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, bill.sum, \"\\u20AC\"), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, bill.duedate), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, bill.paid == 0 ? \"Open\" : \"Paid\"), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, bill.arrivaldate), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, bill.leavedate))))))));\n}","map":{"version":3,"sources":["C:/Users/Pauli/Desktop/groupC/Frontend/vp-app/src/components/getServiceBills/GetServiceBills.js"],"names":["React","useState","useEffect","makeStyles","Button","Box","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","TextField","Checkbox","axios","getToken","getAdmin","isWidthDown","useStyles","searchButton","marginTop","backgroundColor","color","background","marginLeft","flex","borderRadius","defaultProps","bgcolor","m","border","padding","borderColor","statusBox","width","align","GetServiceBills","props","classes","bills","setBills","personId","setPersonId","billId","setBillId","serviceId","setServiceId","serviceReservationId","setServiceReservationId","paidChecked","setPaidChecked","openChecked","setOpenChecked","serverErrorMsg","setServerErrorMsg","token","axiosGetBills","query","get","headers","then","response","console","log","data","Bills","catch","error","handlePostClicked","e","target","value","fontWeight","fontSize","table","tableHeader","tableHeaderCell","map","bill","i","service_bill_id","service_reservation_id","service_id","name","person_id","firstname","lastname","email","sum","duedate","paid","arrivaldate","leavedate"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Box from '@material-ui/core/Box';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport axios from 'axios';\r\nimport { getToken, getAdmin } from '../../Utils/Common';\r\nimport { isWidthDown } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    searchButton: {\r\n        marginTop: 5,\r\n        backgroundColor: 'navy',\r\n        color: 'white',\r\n        '&:hover': {\r\n            background: \"white\",\r\n            color: 'navy',\r\n        },\r\n    },\r\n    TextField: {\r\n        marginTop: 15,\r\n        marginLeft: 15,\r\n        backgroundColor: 'white',\r\n        flex: 1,\r\n        borderRadius: 4\r\n    }\r\n}));\r\nconst defaultProps = {\r\n    bgcolor: 'background.paper',\r\n    m: 1,\r\n    border: 2,\r\n    padding: 2,\r\n    borderRadius: 16,\r\n    borderColor: 'navy'\r\n\r\n};\r\nconst statusBox = {\r\n    bgcolor: 'background.paper',\r\n    border: 2,\r\n    padding: 2,\r\n    borderRadius: 10,\r\n    borderColor: 'navy',\r\n    width : 200,\r\n    align : 'left'\r\n\r\n};\r\n\r\nexport default function GetServiceBills(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [bills, setBills] = useState([]);\r\n    const [personId, setPersonId] = useState(\"\");\r\n    const [billId, setBillId] = useState(\"\");\r\n    const [serviceId, setServiceId] = useState(\"\");\r\n    const [serviceReservationId, setServiceReservationId] = useState(\"\");\r\n    const [paidChecked, setPaidChecked] = useState(false);\r\n    const [openChecked, setOpenChecked] = useState(false);\r\n\r\n    const [serverErrorMsg, setServerErrorMsg] = useState(\"\");\r\n\r\n    let token = getToken();\r\n\r\n\r\n\r\n    const axiosGetBills = (query) => {\r\n        axios.get(\"http://localhost:3001/service_bill?\" + query, {\r\n            headers: {\r\n                token: token\r\n            }\r\n        }).then(function (response) {\r\n            console.log(response);\r\n            setBills(response.data.Bills);\r\n        })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n                setServerErrorMsg(error);\r\n            })\r\n    }\r\n\r\n\r\n    const handlePostClicked = () => {\r\n        let query = \"\";\r\n\r\n        if(paidChecked){\r\n            query += \"paid=\" + \"1\";\r\n        }\r\n        if(openChecked){\r\n            query += \"paid=\" + \"0\";\r\n        }\r\n        if(billId != \"\"){\r\n            query += \"&bill_id=\" + billId;\r\n        }\r\n        if(personId != \"\"){\r\n            query += \"&person_id=\" + personId;\r\n        }\r\n        if(serviceId != \"\"){\r\n            query += \"&service_id=\" + serviceId;\r\n        }\r\n        if(serviceReservationId != \"\"){\r\n            query += \"&service_reservation_id=\" + serviceReservationId;\r\n        }\r\n        axiosGetBills(query);\r\n    }\r\n/*\r\n    if(edit){\r\n        dialog = <EditServiceBillDialog price={price} paid={paid} duedate={duedate} id={id}/>;\r\n    }\r\n    else{\r\n        dialog = \"\";\r\n    }\r\n    */\r\n\r\n    return (\r\n\r\n        <Box borderColor=\"navy\" {...defaultProps}>\r\n            <h2>Service bills</h2>\r\n            <div>\r\n                <form>\r\n                    <Box borderColor=\"navy\" {...statusBox}> \r\n                    <h3>Bill status</h3>\r\n\r\n                    Paid <Checkbox  color=\"primary\" disabled = {openChecked}  checked={paidChecked} onChange={(e) => setPaidChecked(paidChecked ? false : true)}\r\n                    />\r\n                    Open <Checkbox  color=\"primary\" disabled = {paidChecked} checked={openChecked} onChange={(e) => setOpenChecked(openChecked ? false : true)}\r\n                    />\r\n                    <br/>\r\n                    </Box>\r\n                    <TextField className={classes.TextField} type=\"number\" id=\"billId\" label=\"Bill Id\" value={billId}\r\n                        onChange={(e) =>\r\n                            setBillId(e.target.value)} />\r\n                    <TextField className={classes.TextField} type=\"number\" id=\"personId\" label=\"Person Id\" value={personId}\r\n                        onChange={(e) =>\r\n                            setPersonId(e.target.value)} />\r\n                    <br />\r\n                    <TextField className={classes.TextField} type=\"number\" id=\"serviceId\" label=\"Service Id\" value={serviceId}\r\n                        onChange={(e) =>\r\n                            setServiceId(e.target.value)} />\r\n                    <TextField className={classes.TextField} type=\"number\" id=\"serviceReservationId\" label=\"Service Reservation Id\" value={serviceReservationId}\r\n                        onChange={(e) =>\r\n                            setServiceReservationId(e.target.value)} />\r\n                </form>\r\n                \r\n                <Button variant=\"contained\" className={classes.searchButton} onClick={() => handlePostClicked()}>Search</Button>\r\n                <p style={{ color: \"red\", fontWeight: 900, fontSize: 16, marginLeft: 130 }}>{serverErrorMsg}</p>\r\n            </div>\r\n            <div>\r\n                <TableContainer component={Paper}>\r\n                    <Table className={classes.table} aria-label=\"customized table\">\r\n                        <TableHead className={classes.tableHeader}>\r\n                            <TableRow>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Bill ID</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Service Reservation ID</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Service ID</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Service Name</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Person ID</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Customer</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Email</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Amount</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Due date</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Status</TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {bills.map((bill, i) => <TableRow key={i}>\r\n                                <TableCell align=\"left\">{bill.service_bill_id}</TableCell>\r\n                                <TableCell align=\"left\">{bill.service_reservation_id}</TableCell>\r\n                                <TableCell align=\"left\">{bill.service_id}</TableCell>\r\n                                <TableCell align=\"left\">{bill.name}</TableCell>\r\n                                <TableCell align=\"left\">{bill.person_id}</TableCell>\r\n                                <TableCell align=\"left\">{bill.firstname} {bill.lastname}</TableCell>\r\n                                <TableCell align=\"left\">{bill.email}</TableCell>\r\n                                <TableCell align=\"left\">{bill.sum}€</TableCell>\r\n                                <TableCell align=\"left\">{bill.duedate}</TableCell>\r\n                                <TableCell align=\"left\">{bill.paid == 0 ? \"Open\" : \"Paid\"}</TableCell>\r\n                                <TableCell align=\"left\">{bill.arrivaldate}</TableCell>\r\n                                <TableCell align=\"left\">{bill.leavedate}</TableCell>\r\n                            </TableRow>)}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n              \r\n            </div>\r\n        </Box>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}