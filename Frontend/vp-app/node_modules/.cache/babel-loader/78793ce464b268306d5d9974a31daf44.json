{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pauli\\\\Desktop\\\\groupC\\\\Frontend\\\\vp-app\\\\src\\\\components\\\\editService\\\\EditServiceDialog.js\";\nimport React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport NativeSelect from '@material-ui/core/NativeSelect';\nimport { getToken, getUserId } from '../../Utils/Common';\nimport axios from 'axios';\nimport GetAgencies from '../getAgencies/GetAgencies';\nconst useStyles = makeStyles(theme => ({\n  formRoot: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: '25ch'\n    }\n  },\n  Infotxt: {\n    color: 'yellow'\n  }\n}));\nexport default function EditServiceDialog(props) {\n  const token = getToken();\n  const classes = useStyles();\n  const [dialogOpen, setDialogOpen] = useState(true);\n  const [name, setName] = useState(props.name);\n  const [nameErrorMsg, setNameErrorMsg] = useState(\"\");\n  const [price, setPrice] = useState(props.price);\n  const [priceErrorMsg, setPriceErrorMsg] = useState(\"\");\n  const [info, setInfo] = useState(props.info);\n  const [agencyId, setAgencyId] = useState(props.agency);\n  const [agencyErrorMsg, setAgencyErrorMsg] = useState(\"\");\n  const [serverErrorMsg, setServerErrorMsg] = useState(\"\");\n\n  function onlyDigits(s) {\n    for (let i = s.length - 1; i >= 0; i--) {\n      const d = s.charCodeAt(i);\n      if (d < 48 || d > 57) return false;\n    }\n\n    return true;\n  }\n\n  const axiosPutService = () => {\n    axios.put('http://localhost:3001/service/' + props.id, {\n      name: name,\n      price: price,\n      agency_id: agencyId,\n      info: info\n    }, {\n      headers: {\n        token: token\n      }\n    }).then(function (response) {\n      console.log(response);\n      setDialogOpen(false);\n      props.edit(false);\n      window.location.reload();\n    }).catch(function (error) {\n      console.log(error.response);\n      setServerErrorMsg(error.response.data.msg);\n    });\n  };\n\n  const handleClose = () => {\n    setDialogOpen(false);\n    props.edit(false);\n  };\n\n  const handleEditClicked = () => {\n    let nameValidationError = false;\n    let priceValidationError = false;\n    let agencyValidationError = false;\n\n    if (name.length === 0 || name === \"\") {\n      setNameErrorMsg(\"Please insert a service name\");\n      nameValidationError = true;\n    } else {\n      nameValidationError = false;\n      setNameErrorMsg(\"\");\n    }\n\n    if (price.length === 0 || price === \"\") {\n      setPriceErrorMsg(\"Please insert a price\");\n      priceValidationError = true;\n    } else if (!onlyDigits(price)) {\n      priceValidationError = true;\n      setPriceErrorMsg(\"Only numbers allowed\");\n    } else {\n      priceValidationError = false;\n      setPriceErrorMsg(\"\");\n    }\n\n    if (agencyId.length === 0 || agencyId === \"\") {\n      setAgencyErrorMsg(\"Please select an agency\");\n      agencyValidationError = true;\n    } else {\n      setAgencyErrorMsg(\"\");\n      agencyValidationError = false;\n    }\n\n    if (nameValidationError === false && priceValidationError === false && agencyValidationError === false) {\n      axiosPutService();\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(Dialog, {\n    open: dialogOpen,\n    onClose: handleClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"Edit service info\"), React.createElement(DialogContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(GetAgencies, {\n    setAgencyId: setAgencyId,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }), React.createElement(\"form\", {\n    className: classes.formRoot,\n    noValidate: true,\n    autoComplete: \"off\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    error: nameErrorMsg != \"\",\n    helperText: nameErrorMsg,\n    required: true,\n    id: \"name\",\n    label: \"Service name\",\n    value: name,\n    onChange: e => {\n      setName(e.target.value);\n      e.target.value.length === 0 ? setNameErrorMsg(\"Please insert a service name\") : setNameErrorMsg(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    error: priceErrorMsg != \"\",\n    helperText: priceErrorMsg,\n    required: true,\n    id: \"price\",\n    label: \"Price\",\n    value: price,\n    type: \"number\",\n    onChange: e => {\n      setPrice(e.target.value);\n      e.target.value.length === 0 ? setPriceErrorMsg(\"Please insert a service price\") : setPriceErrorMsg(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    variant: \"outlined\",\n    multiline: true,\n    rows: \"12\",\n    id: \"info\",\n    label: \"Information\",\n    value: info,\n    onChange: e => {\n      setInfo(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    style: {\n      color: \"red\",\n      fontWeight: 900,\n      fontSize: 14,\n      marginLeft: 155\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, serverErrorMsg), React.createElement(DialogActions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => handleEditClicked(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, \"Edit\"), React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => handleClose(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, \"Cancel\")))));\n}","map":{"version":3,"sources":["C:/Users/Pauli/Desktop/groupC/Frontend/vp-app/src/components/editService/EditServiceDialog.js"],"names":["React","useState","useEffect","TextField","makeStyles","Button","Dialog","DialogActions","DialogContent","DialogTitle","NativeSelect","getToken","getUserId","axios","GetAgencies","useStyles","theme","formRoot","margin","spacing","width","Infotxt","color","EditServiceDialog","props","token","classes","dialogOpen","setDialogOpen","name","setName","nameErrorMsg","setNameErrorMsg","price","setPrice","priceErrorMsg","setPriceErrorMsg","info","setInfo","agencyId","setAgencyId","agency","agencyErrorMsg","setAgencyErrorMsg","serverErrorMsg","setServerErrorMsg","onlyDigits","s","i","length","d","charCodeAt","axiosPutService","put","id","agency_id","headers","then","response","console","log","edit","window","location","reload","catch","error","data","msg","handleClose","handleEditClicked","nameValidationError","priceValidationError","agencyValidationError","e","target","value","fontWeight","fontSize","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport {getToken, getUserId} from '../../Utils/Common';\r\nimport axios from 'axios';\r\nimport GetAgencies from '../getAgencies/GetAgencies';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    formRoot: {\r\n        '& .MuiTextField-root': {\r\n            margin: theme.spacing(1),\r\n            width: '25ch',\r\n        }\r\n    },\r\n    Infotxt: {\r\n        color: 'yellow',\r\n    }\r\n}));\r\n\r\nexport default function EditServiceDialog(props) {\r\n\r\n    const token = getToken();\r\n    \r\n    const classes = useStyles();\r\n    const [dialogOpen, setDialogOpen] = useState(true);\r\n\r\n    const [name, setName] = useState(props.name);\r\n    const [nameErrorMsg, setNameErrorMsg] = useState(\"\");\r\n\r\n    const [price, setPrice] = useState(props.price);\r\n    const [priceErrorMsg, setPriceErrorMsg] = useState(\"\");\r\n\r\n    const [info, setInfo] = useState(props.info);\r\n\r\n    const [agencyId, setAgencyId] = useState(props.agency);\r\n    const [agencyErrorMsg, setAgencyErrorMsg] = useState(\"\");\r\n\r\n    const [serverErrorMsg, setServerErrorMsg] = useState(\"\");\r\n\r\n    function onlyDigits(s) {\r\n        for (let i = s.length - 1; i >= 0; i--) {\r\n          const d = s.charCodeAt(i);\r\n          if (d < 48 || d > 57) return false\r\n        }\r\n        return true\r\n      }\r\n\r\n    const axiosPutService = () => {\r\n        axios.put('http://localhost:3001/service/'+ props.id, {\r\n            name: name,\r\n            price: price,\r\n            agency_id: agencyId,\r\n            info: info\r\n        },\r\n            {\r\n                headers: {\r\n                    token: token\r\n                }\r\n            })\r\n            .then(function (response) {\r\n                console.log(response);\r\n                setDialogOpen(false);\r\n                props.edit(false);\r\n                window.location.reload();\r\n                \r\n                \r\n            })\r\n            .catch(function (error) {\r\n                console.log(error.response);\r\n                setServerErrorMsg(error.response.data.msg);\r\n            });\r\n\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setDialogOpen(false);\r\n        props.edit(false);\r\n    };\r\n\r\n    const handleEditClicked = () => {\r\n        let nameValidationError = false;\r\n        let priceValidationError = false;\r\n        let agencyValidationError = false;\r\n        if (name.length === 0 || name === \"\") {\r\n            setNameErrorMsg(\"Please insert a service name\");\r\n            nameValidationError = true;\r\n        }\r\n        else {\r\n            nameValidationError = false;\r\n            setNameErrorMsg(\"\");\r\n        }\r\n        if (price.length === 0 || price === \"\") {\r\n            setPriceErrorMsg(\"Please insert a price\");\r\n            priceValidationError = true;\r\n        }\r\n        else if (!onlyDigits(price)) {\r\n            priceValidationError = true;\r\n            setPriceErrorMsg(\"Only numbers allowed\");\r\n        }\r\n        else {\r\n            priceValidationError = false;\r\n            setPriceErrorMsg(\"\");\r\n        }\r\n        if (agencyId.length === 0 || agencyId === \"\") {\r\n            setAgencyErrorMsg(\"Please select an agency\");\r\n            agencyValidationError = true;\r\n        }\r\n        else{\r\n            setAgencyErrorMsg(\"\");\r\n            agencyValidationError = false;\r\n        }\r\n        \r\n\r\n        if (nameValidationError === false && priceValidationError === false && agencyValidationError === false) {\r\n            axiosPutService();\r\n        }\r\n    }\r\n\r\nreturn (\r\n    <div>\r\n        <Dialog open={dialogOpen} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n            <DialogTitle id=\"form-dialog-title\">Edit service info</DialogTitle>\r\n            <DialogContent>\r\n                <GetAgencies setAgencyId = {setAgencyId}/>\r\n                <form className={classes.formRoot} noValidate autoComplete=\"off\">\r\n            \r\n                <TextField error={nameErrorMsg != \"\"} helperText={nameErrorMsg} required id=\"name\" label=\"Service name\" value={name}\r\n                    onChange={(e) => {\r\n                        setName(e.target.value);\r\n                        (e.target.value.length === 0) ? setNameErrorMsg(\"Please insert a service name\") : setNameErrorMsg(\"\")\r\n                    }} />\r\n\r\n                <TextField error={priceErrorMsg != \"\"} helperText={priceErrorMsg} required id=\"price\" label=\"Price\" value={price}\r\n                    type=\"number\"\r\n                    onChange={(e) => {\r\n                        setPrice(e.target.value);\r\n                        (e.target.value.length === 0) ? setPriceErrorMsg(\"Please insert a service price\") : setPriceErrorMsg(\"\")\r\n                    }} />\r\n                <br />\r\n                <TextField variant=\"outlined\" multiline rows = \"12\" id=\"info\" label=\"Information\" value={info}\r\n                    onChange={(e) => {\r\n                        setInfo(e.target.value);\r\n                    }} />\r\n            </form>\r\n            \r\n            </DialogContent>\r\n\r\n            <div>\r\n                <p style={{ color: \"red\", fontWeight: 900, fontSize: 14, marginLeft: 155 }}>{serverErrorMsg}</p>\r\n\r\n                <DialogActions>\r\n                    <Button variant=\"contained\" onClick={() => handleEditClicked()}>Edit</Button>\r\n                    <Button variant=\"contained\" onClick={() => handleClose()}>Cancel</Button>\r\n                </DialogActions>\r\n            </div>\r\n        </Dialog>\r\n    </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}