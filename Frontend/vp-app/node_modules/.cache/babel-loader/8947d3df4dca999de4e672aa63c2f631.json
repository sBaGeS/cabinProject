{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pauli\\\\Desktop\\\\groupC\\\\Frontend\\\\vp-app\\\\src\\\\components\\\\editCabin\\\\EditCabinDialog.js\";\nimport React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport NativeSelect from '@material-ui/core/NativeSelect';\nimport { getToken, getUserId } from '../../Utils/Common';\nimport axios from 'axios';\nconst useStyles = makeStyles(theme => ({\n  formRoot: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: '25ch'\n    }\n  },\n  Infotxt: {\n    color: 'yellow'\n  }\n}));\nexport default function EditCabinDialog(props) {\n  const token = getToken();\n  const cabinOwnerId = getUserId();\n  const cabin = props.cabinData[0];\n  const classes = useStyles();\n  const [dialogOpen, setDialogOpen] = useState(true);\n  const [name, setName] = useState(cabin.name);\n  const [nameErrorMsg, setNameErrorMsg] = useState(\"\");\n  const [agencies, setAgencies] = useState([]);\n  const [address, setAddress] = useState(cabin.address);\n  const [addressErrorMsg, setAddressErrorMsg] = useState(\"\");\n  const [postcode, setPostcode] = useState(cabin.postcode);\n  const [postcodeErrorMsg, setPostcodeErrorMsg] = useState(\"\");\n  const [postarea, setPostarea] = useState(cabin.postarea);\n  const [postareaErrorMsg, setPostareaErrorMsg] = useState(\"\");\n  const [price, setPrice] = useState(cabin.price);\n  const [priceErrorMsg, setPriceErrorMsg] = useState(\"\");\n  const [size, setSize] = useState(cabin.size);\n  const [sizeErrorMsg, setSizeErrorMsg] = useState(\"\");\n  const [info, setInfo] = useState(cabin.info || \"\");\n  const [cabinOwnerIdErrorMsg, setCabinOwnerIdErrorMsg] = useState(\"\");\n  const [agencyId, setAgencyId] = useState(cabin.agency_id);\n  const [capacity, setCapacity] = useState(cabin.capacity);\n  const [capacityErrorMsg, setCapacityErrorMsg] = useState(\"\");\n  const [serverErrorMsg, setServerErrorMsg] = useState(\"\");\n\n  function onlyDigits(s) {\n    for (let i = s.length - 1; i >= 0; i--) {\n      const d = s.charCodeAt(i);\n      if (d < 48 || d > 57) return false;\n    }\n\n    return true;\n  }\n\n  useEffect(() => {\n    const getAgencies = () => {\n      axios.get(\"http://localhost:3001/agency\", {}).then(function (response) {\n        console.log(response);\n        setAgencies(response.data.Agencies);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    getAgencies();\n  }, []);\n\n  const axiosPutCabin = () => {\n    axios.put('http://localhost:3001/cabin/' + cabin.cabin_id, {\n      name: name,\n      address: address,\n      postcode: postcode,\n      postarea: postarea,\n      price: price,\n      size: size,\n      agency_id: agencyId,\n      capacity: capacity,\n      info: info\n    }, {\n      headers: {\n        token: token\n      }\n    }).then(function (response) {\n      console.log(response);\n      setDialogOpen(false);\n      props.edit(false);\n      window.location.reload();\n    }).catch(function (error) {\n      console.log(error.response);\n      setServerErrorMsg(error.response.data.msg);\n    });\n  };\n\n  const handleClose = () => {\n    setDialogOpen(false);\n    props.edit(false);\n  };\n\n  const handleEditClicked = () => {\n    let nameValidationError = false;\n    let priceValidationError = false;\n    let addressValidationError = false;\n    let postcodeValidationError = false;\n    let postareaValidationError = false;\n    let sizeValidationError = false;\n    let cabinOwnerIdValidationError = false;\n    let capacityValidationError = false;\n\n    if (name.length === 0 || name === \"\") {\n      setNameErrorMsg(\"Please insert a cabin name\");\n      nameValidationError = true;\n    } else {\n      nameValidationError = false;\n      setNameErrorMsg(\"\");\n    }\n\n    if (price.length === 0 || price === \"\") {\n      setPriceErrorMsg(\"Please insert a price\");\n      priceValidationError = true;\n    } else if (!onlyDigits(price)) {\n      priceValidationError = true;\n      setPriceErrorMsg(\"Only numbers allowed\");\n    } else {\n      priceValidationError = false;\n      setPriceErrorMsg(\"\");\n    }\n\n    if (size.length === 0 || size === \"\") {\n      setSizeErrorMsg(\"Please insert a cabin size\");\n      sizeValidationError = true;\n    } else if (!onlyDigits(size)) {\n      sizeValidationError = true;\n      setSizeErrorMsg(\"Only numbers allowed\");\n    } else {\n      sizeValidationError = false;\n      setSizeErrorMsg(\"\");\n    }\n\n    if (address.length === 0 || address === \"\") {\n      addressValidationError = true;\n      setAddressErrorMsg(\"Please insert an address\");\n    } else {\n      addressValidationError = false;\n      setAddressErrorMsg(\"\");\n    }\n\n    if (postcode.length === 0 || postcode === \"\") {\n      postcodeValidationError = true;\n      setPostcodeErrorMsg(\"Please insert a postcode\");\n    } else if (!onlyDigits(postcode)) {\n      postcodeValidationError = true;\n      setPostcodeErrorMsg(\"Only numbers allowed\");\n    } else {\n      postcodeValidationError = false;\n      setPostcodeErrorMsg(\"\");\n    }\n\n    if (postarea.length === 0 || postarea === \"\") {\n      postareaValidationError = true;\n      setPostareaErrorMsg(\"Please insert a postarea\");\n    } else {\n      postareaValidationError = false;\n      setPostareaErrorMsg(\"\");\n    }\n\n    if (cabinOwnerId.length === 0 || cabinOwnerId === \"\") {\n      cabinOwnerIdValidationError = true;\n      setCabinOwnerIdErrorMsg(\"Please insert a cabin owner\");\n    } else {\n      cabinOwnerIdValidationError = false;\n      setCabinOwnerIdErrorMsg(\"\");\n    }\n\n    if (capacity.length === 0 || capacity === \"\") {\n      capacityValidationError = true;\n      setCapacityErrorMsg(\"Please insert capacity for the cabin\");\n    } else if (!onlyDigits(capacity)) {\n      capacityValidationError = true;\n      setCapacityErrorMsg(\"Only numbers allowed\");\n    } else {\n      capacityValidationError = false;\n      setCapacityErrorMsg(\"\");\n    }\n\n    if (nameValidationError === false && cabinOwnerIdValidationError === false && addressValidationError === false && postcodeValidationError === false && postareaValidationError === false && sizeValidationError === false && priceValidationError === false && capacityValidationError === false) {\n      axiosPutCabin();\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232\n    },\n    __self: this\n  }, React.createElement(Dialog, {\n    open: dialogOpen,\n    onClose: handleClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }, React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  }, \"Edit cabin info\"), React.createElement(DialogContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: classes.formRoot,\n    noValidate: true,\n    autoComplete: \"off\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236\n    },\n    __self: this\n  }, React.createElement(NativeSelect, {\n    required: true,\n    id: \"agencyId\",\n    value: agencyId,\n    onChange: e => {\n      setAgencyId(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }, agencies.map((agency, i) => React.createElement(\"option\", {\n    key: i,\n    value: agency.agency_id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  }, agency.name))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    error: nameErrorMsg != \"\",\n    helperText: nameErrorMsg,\n    required: true,\n    id: \"name\",\n    label: \"Cabin name\",\n    value: name,\n    onChange: e => {\n      setName(e.target.value);\n      e.target.value.length === 0 ? setNameErrorMsg(\"Please insert a cabin name\") : setNameErrorMsg(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    error: addressErrorMsg != \"\",\n    helperText: addressErrorMsg,\n    required: true,\n    id: \"address\",\n    label: \"Address\",\n    value: address,\n    onChange: e => {\n      setAddress(e.target.value);\n      e.target.value.length === 0 ? setAddressErrorMsg(\"Please insert an address\") : setAddressErrorMsg(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    error: postcodeErrorMsg != \"\",\n    helperText: postcodeErrorMsg,\n    required: true,\n    id: \"postcode\",\n    label: \"Postcode\",\n    value: postcode,\n    type: \"number\",\n    onChange: e => {\n      setPostcode(e.target.value);\n      e.target.value.length === 0 ? setPostcodeErrorMsg(\"Please insert a postcode\") : setPostcodeErrorMsg(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    error: postareaErrorMsg != \"\",\n    helperText: postareaErrorMsg,\n    required: true,\n    id: \"postarea\",\n    label: \"Postarea\",\n    value: postarea,\n    onChange: e => {\n      setPostarea(e.target.value);\n      e.target.value.length === 0 ? setPostareaErrorMsg(\"Please insert a postarea\") : setPostareaErrorMsg(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    error: sizeErrorMsg != \"\",\n    helperText: sizeErrorMsg,\n    required: true,\n    id: \"size\",\n    label: \"Cabin size (m2)\",\n    value: size,\n    type: \"number\",\n    onChange: e => {\n      setSize(e.target.value);\n      e.target.value.length === 0 ? setSizeErrorMsg(\"Please insert a size(m2) for the cabin\") : setSizeErrorMsg(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    error: priceErrorMsg != \"\",\n    helperText: priceErrorMsg,\n    required: true,\n    id: \"price\",\n    label: \"Price for a night(Eur)\",\n    value: price,\n    type: \"number\",\n    onChange: e => {\n      setPrice(e.target.value);\n      e.target.value.length === 0 ? setPriceErrorMsg(\"Please insert a price for a one night\") : setPriceErrorMsg(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    error: capacityErrorMsg != \"\",\n    helperText: capacityErrorMsg,\n    required: true,\n    id: \"capacity\",\n    label: \"Capacity\",\n    value: capacity,\n    type: \"number\",\n    InputProps: {\n      inputProps: {\n        min: 1,\n        max: 50\n      }\n    },\n    onChange: e => {\n      setCapacity(e.target.value);\n      e.target.value.length === 0 ? setCapacityErrorMsg(\"Please insert capacity for the cabin\") : setCapacityErrorMsg(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    variant: \"outlined\",\n    multiline: true,\n    rows: \"8\",\n    id: \"info\",\n    label: \"Additional information\",\n    value: info,\n    onChange: e => {\n      setInfo(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    style: {\n      color: \"red\",\n      fontWeight: 900,\n      fontSize: 14,\n      marginLeft: 155\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303\n    },\n    __self: this\n  }, serverErrorMsg), React.createElement(DialogActions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => handleEditClicked(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306\n    },\n    __self: this\n  }, \"Edit\"), React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => handleClose(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307\n    },\n    __self: this\n  }, \"Cancel\")))));\n}","map":{"version":3,"sources":["C:/Users/Pauli/Desktop/groupC/Frontend/vp-app/src/components/editCabin/EditCabinDialog.js"],"names":["React","useState","useEffect","TextField","makeStyles","Button","Dialog","DialogActions","DialogContent","DialogTitle","NativeSelect","getToken","getUserId","axios","useStyles","theme","formRoot","margin","spacing","width","Infotxt","color","EditCabinDialog","props","token","cabinOwnerId","cabin","cabinData","classes","dialogOpen","setDialogOpen","name","setName","nameErrorMsg","setNameErrorMsg","agencies","setAgencies","address","setAddress","addressErrorMsg","setAddressErrorMsg","postcode","setPostcode","postcodeErrorMsg","setPostcodeErrorMsg","postarea","setPostarea","postareaErrorMsg","setPostareaErrorMsg","price","setPrice","priceErrorMsg","setPriceErrorMsg","size","setSize","sizeErrorMsg","setSizeErrorMsg","info","setInfo","cabinOwnerIdErrorMsg","setCabinOwnerIdErrorMsg","agencyId","setAgencyId","agency_id","capacity","setCapacity","capacityErrorMsg","setCapacityErrorMsg","serverErrorMsg","setServerErrorMsg","onlyDigits","s","i","length","d","charCodeAt","getAgencies","get","then","response","console","log","data","Agencies","catch","error","axiosPutCabin","put","cabin_id","headers","edit","window","location","reload","msg","handleClose","handleEditClicked","nameValidationError","priceValidationError","addressValidationError","postcodeValidationError","postareaValidationError","sizeValidationError","cabinOwnerIdValidationError","capacityValidationError","e","target","value","map","agency","inputProps","min","max","fontWeight","fontSize","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport {getToken, getUserId} from '../../Utils/Common';\r\nimport axios from 'axios';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    formRoot: {\r\n        '& .MuiTextField-root': {\r\n            margin: theme.spacing(1),\r\n            width: '25ch',\r\n        }\r\n    },\r\n    Infotxt: {\r\n        color: 'yellow',\r\n    }\r\n}));\r\n\r\nexport default function EditCabinDialog(props) {\r\n\r\n    const token = getToken();\r\n    const cabinOwnerId = getUserId();\r\n\r\n    const cabin = props.cabinData[0];\r\n    \r\n    const classes = useStyles();\r\n    const [dialogOpen, setDialogOpen] = useState(true);\r\n\r\n    const [name, setName] = useState(cabin.name);\r\n    const [nameErrorMsg, setNameErrorMsg] = useState(\"\");\r\n\r\n    const [agencies, setAgencies] = useState([]);\r\n\r\n    const [address, setAddress] = useState(cabin.address);\r\n    const [addressErrorMsg, setAddressErrorMsg] = useState(\"\");\r\n\r\n    const [postcode, setPostcode] = useState(cabin.postcode);\r\n    const [postcodeErrorMsg, setPostcodeErrorMsg] = useState(\"\");\r\n\r\n    const [postarea, setPostarea] = useState(cabin.postarea);\r\n    const [postareaErrorMsg, setPostareaErrorMsg] = useState(\"\");\r\n\r\n    const [price, setPrice] = useState(cabin.price);\r\n    const [priceErrorMsg, setPriceErrorMsg] = useState(\"\");\r\n\r\n    const [size, setSize] = useState(cabin.size);\r\n    const [sizeErrorMsg, setSizeErrorMsg] = useState(\"\");\r\n\r\n    const [info, setInfo] = useState(cabin.info || \"\");\r\n    \r\n    const [cabinOwnerIdErrorMsg, setCabinOwnerIdErrorMsg] = useState(\"\");\r\n\r\n    const [agencyId, setAgencyId] = useState(cabin.agency_id);\r\n \r\n    const [capacity, setCapacity] = useState(cabin.capacity);\r\n    const [capacityErrorMsg, setCapacityErrorMsg] = useState(\"\");\r\n\r\n\r\n    const [serverErrorMsg, setServerErrorMsg] = useState(\"\");\r\n\r\n    function onlyDigits(s) {\r\n        for (let i = s.length - 1; i >= 0; i--) {\r\n          const d = s.charCodeAt(i);\r\n          if (d < 48 || d > 57) return false\r\n        }\r\n        return true\r\n      }\r\n\r\n    useEffect(() => {\r\n        const getAgencies = () => {\r\n            axios.get(\"http://localhost:3001/agency\", {\r\n\r\n            }).then(function (response) {\r\n                console.log(response);\r\n                setAgencies(response.data.Agencies);\r\n            })\r\n                .catch(function (error) {\r\n                    console.log(error);\r\n                })\r\n        }\r\n        getAgencies();\r\n    }, []);\r\n\r\n    const axiosPutCabin = () => {\r\n        axios.put('http://localhost:3001/cabin/'+cabin.cabin_id, {\r\n            name: name,\r\n            address: address,\r\n            postcode: postcode,\r\n            postarea: postarea,\r\n            price: price,\r\n            size: size,\r\n            agency_id: agencyId,\r\n            capacity: capacity,\r\n            info: info\r\n        },\r\n            {\r\n                headers: {\r\n                    token: token\r\n                }\r\n            })\r\n            .then(function (response) {\r\n                console.log(response);\r\n                setDialogOpen(false);\r\n                props.edit(false);\r\n                window.location.reload();\r\n                \r\n                \r\n            })\r\n            .catch(function (error) {\r\n                console.log(error.response);\r\n                setServerErrorMsg(error.response.data.msg);\r\n            });\r\n\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setDialogOpen(false);\r\n        props.edit(false);\r\n    };\r\n\r\n    const handleEditClicked = () => {\r\n        let nameValidationError = false;\r\n        let priceValidationError = false;\r\n        let addressValidationError = false;\r\n        let postcodeValidationError = false;\r\n        let postareaValidationError = false;\r\n        let sizeValidationError = false;\r\n        let cabinOwnerIdValidationError = false;\r\n        let capacityValidationError = false;\r\n\r\n        if (name.length === 0 || name === \"\") {\r\n            setNameErrorMsg(\"Please insert a cabin name\");\r\n            nameValidationError = true;\r\n        }\r\n        else {\r\n            nameValidationError = false;\r\n            setNameErrorMsg(\"\");\r\n        }\r\n        if (price.length === 0 || price === \"\") {\r\n            setPriceErrorMsg(\"Please insert a price\");\r\n            priceValidationError = true;\r\n        }\r\n        else if (!onlyDigits(price)) {\r\n            priceValidationError = true;\r\n            setPriceErrorMsg(\"Only numbers allowed\");\r\n        }\r\n        else {\r\n            priceValidationError = false;\r\n            setPriceErrorMsg(\"\");\r\n        }\r\n        if (size.length === 0 || size === \"\") {\r\n            setSizeErrorMsg(\"Please insert a cabin size\");\r\n            sizeValidationError = true;\r\n        }\r\n        else if (!onlyDigits(size)) {\r\n            sizeValidationError = true;\r\n            setSizeErrorMsg(\"Only numbers allowed\");\r\n        }\r\n        else {\r\n            sizeValidationError = false;\r\n            setSizeErrorMsg(\"\");\r\n        }\r\n        if (address.length === 0 || address === \"\") {\r\n            addressValidationError = true;\r\n            setAddressErrorMsg(\"Please insert an address\");\r\n        }\r\n        else {\r\n            addressValidationError = false;\r\n            setAddressErrorMsg(\"\")\r\n        }\r\n        if (postcode.length === 0 || postcode === \"\") {\r\n            postcodeValidationError = true;\r\n            setPostcodeErrorMsg(\"Please insert a postcode\");\r\n        }\r\n        else if (!onlyDigits(postcode)) {\r\n            postcodeValidationError = true;\r\n            setPostcodeErrorMsg(\"Only numbers allowed\");\r\n        }\r\n        else {\r\n            postcodeValidationError = false;\r\n            setPostcodeErrorMsg(\"\");\r\n        }\r\n        if (postarea.length === 0 || postarea === \"\") {\r\n            postareaValidationError = true;\r\n            setPostareaErrorMsg(\"Please insert a postarea\");\r\n        }\r\n        else {\r\n            postareaValidationError = false;\r\n            setPostareaErrorMsg(\"\");\r\n        }\r\n        if (cabinOwnerId.length === 0 || cabinOwnerId === \"\") {\r\n            cabinOwnerIdValidationError = true;\r\n            setCabinOwnerIdErrorMsg(\"Please insert a cabin owner\");\r\n        }\r\n        else {\r\n            cabinOwnerIdValidationError = false;\r\n            setCabinOwnerIdErrorMsg(\"\");\r\n        }\r\n        if (capacity.length === 0 || capacity === \"\") {\r\n            capacityValidationError = true;\r\n            setCapacityErrorMsg(\"Please insert capacity for the cabin\");\r\n        }\r\n        else if (!onlyDigits(capacity)) {\r\n            capacityValidationError = true;\r\n            setCapacityErrorMsg(\"Only numbers allowed\");\r\n        }\r\n        else {\r\n            capacityValidationError = false;\r\n            setCapacityErrorMsg(\"\");\r\n        }\r\n\r\n        if (nameValidationError === false &&\r\n            cabinOwnerIdValidationError === false &&\r\n            addressValidationError === false &&\r\n            postcodeValidationError === false &&\r\n            postareaValidationError === false &&\r\n            sizeValidationError === false &&\r\n            priceValidationError === false &&\r\n            capacityValidationError === false) {\r\n            axiosPutCabin();\r\n        }\r\n    }\r\n\r\nreturn (\r\n    <div>\r\n        <Dialog open={dialogOpen} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n            <DialogTitle id=\"form-dialog-title\">Edit cabin info</DialogTitle>\r\n            <DialogContent>\r\n                <form className={classes.formRoot} noValidate autoComplete=\"off\">\r\n                <NativeSelect\r\n                 required id=\"agencyId\" value={agencyId}\r\n                  onChange={(e) => {\r\n                      setAgencyId(e.target.value)\r\n                  }}>\r\n                  {agencies.map((agency, i) =>\r\n                      <option key={i} value={agency.agency_id}>\r\n                          {agency.name}</option>)}\r\n                </NativeSelect>\r\n                <br />\r\n                <TextField error={nameErrorMsg != \"\"} helperText={nameErrorMsg} required id=\"name\" label=\"Cabin name\" value={name}\r\n                    onChange={(e) => {\r\n                        setName(e.target.value);\r\n                        (e.target.value.length === 0) ? setNameErrorMsg(\"Please insert a cabin name\") : setNameErrorMsg(\"\")\r\n                    }} />\r\n\r\n                <TextField error={addressErrorMsg != \"\"} helperText={addressErrorMsg} required id=\"address\" label=\"Address\" value={address}\r\n                    onChange={(e) => {\r\n                        setAddress(e.target.value);\r\n                        (e.target.value.length === 0) ? setAddressErrorMsg(\"Please insert an address\") : setAddressErrorMsg(\"\")\r\n                    }} />\r\n                <br />\r\n\r\n                <TextField error={postcodeErrorMsg != \"\"} helperText={postcodeErrorMsg} required id=\"postcode\" label=\"Postcode\" value={postcode}\r\n                    type=\"number\"\r\n                    onChange={(e) => {\r\n                        setPostcode(e.target.value);\r\n                        (e.target.value.length === 0) ? setPostcodeErrorMsg(\"Please insert a postcode\") : setPostcodeErrorMsg(\"\")\r\n                    }} />\r\n                <TextField error={postareaErrorMsg != \"\"} helperText={postareaErrorMsg} required id=\"postarea\" label=\"Postarea\" value={postarea}\r\n                    onChange={(e) => {\r\n                        setPostarea(e.target.value);\r\n                        (e.target.value.length === 0) ? setPostareaErrorMsg(\"Please insert a postarea\") : setPostareaErrorMsg(\"\")\r\n                    }} />\r\n                <br />\r\n                <TextField error={sizeErrorMsg != \"\"} helperText={sizeErrorMsg} required id=\"size\" label=\"Cabin size (m2)\" value={size}\r\n                    type=\"number\"\r\n                    onChange={(e) => {\r\n                        setSize(e.target.value);\r\n                        (e.target.value.length === 0) ? setSizeErrorMsg(\"Please insert a size(m2) for the cabin\") : setSizeErrorMsg(\"\")\r\n                    }} />\r\n                <TextField error={priceErrorMsg != \"\"} helperText={priceErrorMsg} required id=\"price\" label=\"Price for a night(Eur)\" value={price}\r\n                    type=\"number\"\r\n                    onChange={(e) => {\r\n                        setPrice(e.target.value);\r\n                        (e.target.value.length === 0) ? setPriceErrorMsg(\"Please insert a price for a one night\") : setPriceErrorMsg(\"\")\r\n                    }} />\r\n                <br />\r\n                <TextField error={capacityErrorMsg != \"\"} helperText={capacityErrorMsg} required id=\"capacity\" label=\"Capacity\" value={capacity}\r\n                    type=\"number\"\r\n                    InputProps={{ inputProps: { min: 1, max: 50 } }}\r\n                    onChange={(e) => {\r\n                        setCapacity(e.target.value);\r\n                        (e.target.value.length === 0) ? setCapacityErrorMsg(\"Please insert capacity for the cabin\") : setCapacityErrorMsg(\"\")\r\n                    }} />\r\n                <br/>\r\n                <TextField variant=\"outlined\" multiline rows = \"8\" id=\"info\" label=\"Additional information\" value={info}\r\n                    onChange={(e) => {\r\n                        setInfo(e.target.value);\r\n                    }} />\r\n            </form>\r\n            \r\n\r\n            </DialogContent>\r\n\r\n            <div>\r\n                <p style={{ color: \"red\", fontWeight: 900, fontSize: 14, marginLeft: 155 }}>{serverErrorMsg}</p>\r\n\r\n                <DialogActions>\r\n                    <Button variant=\"contained\" onClick={() => handleEditClicked()}>Edit</Button>\r\n                    <Button variant=\"contained\" onClick={() => handleClose()}>Cancel</Button>\r\n                </DialogActions>\r\n            </div>\r\n        </Dialog>\r\n    </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}