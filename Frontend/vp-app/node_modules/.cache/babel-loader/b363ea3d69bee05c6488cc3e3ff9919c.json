{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pauli\\\\Desktop\\\\groupC\\\\Frontend\\\\vp-app\\\\src\\\\components\\\\getServices\\\\GetServices.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Button from '@material-ui/core/Button';\nimport { getAdmin, getToken } from \"../../Utils/Common\";\nimport EditServiceDialog from \"../editService/EditServiceDialog\";\nimport RemoveServiceDialog from \"../removeService/RemoveServiceDialog\";\nimport PostServiceReservation from '../postServiceReservation/PostServiceReservationDialog';\nconst useStyles = makeStyles({\n  cabinDiv: {\n    display: 'grid',\n    background: 'navy',\n    padding: 8,\n    maxWidth: 600,\n    maxHeight: 400\n  },\n  tableHeader: {\n    backgroundColor: 'navy'\n  },\n  tableHeaderCell: {\n    color: 'white'\n  },\n  agencyInfo: {\n    margin: 4,\n    height: 250\n  },\n  editButton: {\n    margin: 4,\n    backgroundColor: 'navy',\n    color: 'white',\n    minWidth: 50\n  }\n});\nexport default function GetServices(props) {\n  const classes = useStyles();\n  const [services, setServices] = useState([]);\n  const query = props.query;\n  let dialog;\n  const [edit, setEdit] = useState(false);\n  const [remove, setRemove] = useState(false);\n  const [reserve, setReserve] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [id, setId] = useState(\"\");\n  const [agencyId, setAgencyId] = useState(\"\");\n  useEffect(() => {\n    const getServices = () => {\n      axios.get(\"http://localhost:3001/service?\" + query, {}).then(function (response) {\n        console.log(response);\n        setServices(response.data.services);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    if (props.searchClicked > 0) {\n      getServices();\n    }\n  }, [props.searchClicked]);\n\n  if (edit) {\n    dialog = React.createElement(EditServiceDialog, {\n      name: name,\n      price: price,\n      edit: setEdit,\n      id: id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    });\n  } else if (remove) {\n    dialog = React.createElement(RemoveServiceDialog, {\n      name: name,\n      remove: setRemove,\n      id: id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    });\n  } else if (reserve) {\n    dialog = React.createElement(PostServiceReservation, {\n      name: name,\n      price: price,\n      agencyId: agencyId,\n      reserve: setReserve,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    });\n  }\n\n  if (services.length > 0 && !getAdmin()) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(TableContainer, {\n      component: Paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Table, {\n      className: classes.table,\n      \"aria-label\": \"customized table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(TableHead, {\n      className: classes.tableHeader,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(TableRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      className: classes.tableHeaderCell,\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Name\"), React.createElement(TableCell, {\n      className: classes.tableHeaderCell,\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Price\"), React.createElement(TableCell, {\n      className: classes.tableHeaderCell,\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Agency\"))), React.createElement(TableBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, services.map((service, i) => React.createElement(TableRow, {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: classes.editButton,\n      href: `/service_detail/${service.service_id}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, service.name)), React.createElement(TableCell, {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, service.price, \"\\u20AC\"), React.createElement(TableCell, {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, service.agency)))))), dialog);\n  } else if (services.length > 0 && getAdmin()) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(TableContainer, {\n      component: Paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(Table, {\n      className: classes.table,\n      \"aria-label\": \"customized table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(TableHead, {\n      className: classes.tableHeader,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(TableRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      className: classes.tableHeaderCell,\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Name\"), React.createElement(TableCell, {\n      className: classes.tableHeaderCell,\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Price\"), React.createElement(TableCell, {\n      className: classes.tableHeaderCell,\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Agency\"), React.createElement(TableCell, {\n      className: classes.tableHeaderCell,\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Edit\"), React.createElement(TableCell, {\n      className: classes.tableHeaderCell,\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Delete\"))), React.createElement(TableBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, services.map((service, i) => React.createElement(TableRow, {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(Button, {\n      href: `/service_detail/${service.service_id}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), service.name), React.createElement(TableCell, {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, service.price, \"\\u20AC\"), React.createElement(TableCell, {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, service.agency), React.createElement(TableCell, {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: classes.editButton,\n      onClick: () => edit ? setEdit(false) : setEdit(true) + setName(service.name) + setPrice(service.price) + setId(service.service_id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Edit\")), React.createElement(TableCell, {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: classes.editButton,\n      onClick: () => remove ? setRemove(false) : setRemove(true) + setName(service.name) + setId(service.service_id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Delete\"))))))), dialog);\n  } else {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"No services found\");\n  }\n}","map":{"version":3,"sources":["C:/Users/Pauli/Desktop/groupC/Frontend/vp-app/src/components/getServices/GetServices.js"],"names":["React","useState","useEffect","axios","makeStyles","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Button","getAdmin","getToken","EditServiceDialog","RemoveServiceDialog","PostServiceReservation","useStyles","cabinDiv","display","background","padding","maxWidth","maxHeight","tableHeader","backgroundColor","tableHeaderCell","color","agencyInfo","margin","height","editButton","minWidth","GetServices","props","classes","services","setServices","query","dialog","edit","setEdit","remove","setRemove","reserve","setReserve","name","setName","price","setPrice","id","setId","agencyId","setAgencyId","getServices","get","then","response","console","log","data","catch","error","searchClicked","length","table","map","service","i","service_id","agency"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Button from '@material-ui/core/Button';\r\nimport {getAdmin, getToken} from \"../../Utils/Common\"\r\nimport EditServiceDialog from \"../editService/EditServiceDialog\";\r\nimport RemoveServiceDialog from \"../removeService/RemoveServiceDialog\";\r\nimport PostServiceReservation from '../postServiceReservation/PostServiceReservationDialog';\r\n\r\nconst useStyles = makeStyles({\r\n    cabinDiv: {\r\n        display: 'grid',\r\n        background: 'navy',\r\n        padding: 8,\r\n        maxWidth: 600,\r\n        maxHeight: 400\r\n    },\r\n    tableHeader: {\r\n        backgroundColor: 'navy',\r\n        \r\n    },\r\n    tableHeaderCell: {\r\n        color: 'white'\r\n    },\r\n    agencyInfo: {\r\n        margin: 4,\r\n        height: 250\r\n       \r\n    },\r\n    editButton: {\r\n        margin: 4,\r\n        backgroundColor: 'navy',\r\n        color: 'white',\r\n        minWidth: 50,\r\n    },\r\n\r\n});\r\n\r\nexport default function GetServices(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [services, setServices] = useState([]);\r\n\r\n    const query = props.query;\r\n\r\n    let dialog;\r\n\r\n    const [edit, setEdit] = useState(false);\r\n\r\n    const [remove, setRemove] = useState(false);\r\n\r\n    const [reserve, setReserve] = useState(false);\r\n\r\n    const [name, setName] = useState(\"\");\r\n\r\n    const [price, setPrice] = useState(\"\");\r\n\r\n    const [id, setId] = useState(\"\");\r\n\r\n    const [agencyId, setAgencyId] = useState(\"\");\r\n\r\n\r\n    useEffect(() => {\r\n        const getServices = () => {\r\n            axios.get(\"http://localhost:3001/service?\" + query, {\r\n            })\r\n                .then(function (response) {\r\n                    console.log(response);\r\n                    setServices(response.data.services);\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error);\r\n                })\r\n        }\r\n        if (props.searchClicked > 0) {\r\n            getServices();\r\n        }\r\n    }, [props.searchClicked]);\r\n\r\n     if(edit){\r\n        dialog = <EditServiceDialog name = {name} price = {price} edit = {setEdit} id = {id}/>;\r\n    }\r\n\r\n    else if(remove){\r\n        dialog = <RemoveServiceDialog name = {name} remove = {setRemove} id={id}/>;\r\n    }\r\n    else if(reserve){\r\n        dialog = <PostServiceReservation name = {name} price = {price} agencyId = {agencyId} reserve = {setReserve} />;\r\n    }\r\n\r\n    if(services.length > 0 && !getAdmin()){\r\n    return (\r\n        <div>\r\n             <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"customized table\">\r\n        <TableHead className = {classes.tableHeader}>\r\n          <TableRow>\r\n            <TableCell className={classes.tableHeaderCell} align=\"left\">Name</TableCell>\r\n            <TableCell className={classes.tableHeaderCell} align=\"left\">Price</TableCell>\r\n            <TableCell className={classes.tableHeaderCell} align=\"left\">Agency</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n        {services.map((service, i) => <TableRow key = {i}>\r\n            <TableCell align=\"left\"><Button className = {classes.editButton} href= {`/service_detail/${service.service_id}`}>{service.name}</Button></TableCell>\r\n            <TableCell align=\"left\">{service.price}€</TableCell>\r\n            <TableCell align=\"left\">{service.agency}</TableCell>\r\n            </TableRow>)}\r\n        </TableBody>\r\n        </Table>\r\n            </TableContainer>\r\n            {dialog}\r\n        </div>\r\n    )\r\n    }\r\n    else if(services.length > 0 && getAdmin()){\r\n        return (\r\n            <div>\r\n                 <TableContainer component={Paper}>\r\n          <Table className={classes.table} aria-label=\"customized table\">\r\n            <TableHead className = {classes.tableHeader}>\r\n              <TableRow>\r\n                <TableCell className={classes.tableHeaderCell} align=\"left\">Name</TableCell>\r\n                <TableCell className={classes.tableHeaderCell} align=\"left\">Price</TableCell>\r\n                <TableCell className={classes.tableHeaderCell} align=\"left\">Agency</TableCell>\r\n                <TableCell className={classes.tableHeaderCell} align=\"left\">Edit</TableCell>\r\n                <TableCell className={classes.tableHeaderCell} align=\"left\">Delete</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n            {services.map((service, i) => <TableRow key = {i}>\r\n                <TableCell align=\"left\"><Button href= {`/service_detail/${service.service_id}`}></Button>{service.name}</TableCell>\r\n                <TableCell align=\"left\">{service.price}€</TableCell>\r\n                <TableCell align=\"left\">{service.agency}</TableCell>\r\n                <TableCell align=\"left\"><Button className={classes.editButton}  onClick={() => edit ? setEdit(false) : setEdit(true) + setName(service.name) + setPrice(service.price) + setId(service.service_id)}>Edit</Button></TableCell>\r\n                <TableCell align=\"left\"><Button className={classes.editButton}  onClick={() => remove ? setRemove(false) : setRemove(true) + setName(service.name) + setId(service.service_id)}>Delete</Button></TableCell>\r\n                </TableRow>)}\r\n            </TableBody>\r\n            </Table>\r\n                </TableContainer>\r\n                {dialog}\r\n            </div>\r\n        )\r\n        }\r\n    \r\n    else{\r\n        return(\r\n            <div>\r\n                No services found\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}