{"ast":null,"code":"// return the token from the session storage\nexport const getUser = () => {\n  return sessionStorage.getItem('user_username');\n};\nexport const getToken = () => {\n  return sessionStorage.getItem('token') || null;\n}; // remove the token and user from the session storage\n\nexport const removeUserSession = () => {\n  sessionStorage.removeItem('token');\n  sessionStorage.removeItem('user_id');\n  sessionStorage.removeItem('user_username');\n  sessionStorage.removeItem('user_role');\n}; // set the token and user from the session storage\n\nexport const setUserSession = token => {\n  let user = parseJwt(token);\n  console.log(user);\n  sessionStorage.setItem('user_id', user.id);\n  sessionStorage.setItem('user_username', user.username);\n  sessionStorage.setItem('user_role', user.role);\n  sessionStorage.setItem('token', token);\n};\n\nfunction parseJwt(token) {\n  var base64Url = token.split('.')[1];\n  var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\n    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n  }).join(''));\n  return JSON.parse(jsonPayload);\n}\n\n;","map":{"version":3,"sources":["C:/Users/Pauli/Desktop/groupC/Frontend/vp-app/src/Utils/Common.js"],"names":["getUser","sessionStorage","getItem","getToken","removeUserSession","removeItem","setUserSession","token","user","parseJwt","console","log","setItem","id","username","role","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse"],"mappings":"AAAA;AACA,OAAO,MAAMA,OAAO,GAAG,MAAM;AACzB,SAAOC,cAAc,CAACC,OAAf,CAAuB,eAAvB,CAAP;AACD,CAFI;AAIL,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAC5B,SAAOF,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAA1C;AACD,CAFM,C,CAGP;;AACA,OAAO,MAAME,iBAAiB,GAAG,MAAM;AACrCH,EAAAA,cAAc,CAACI,UAAf,CAA0B,OAA1B;AACAJ,EAAAA,cAAc,CAACI,UAAf,CAA0B,SAA1B;AACAJ,EAAAA,cAAc,CAACI,UAAf,CAA0B,eAA1B;AACAJ,EAAAA,cAAc,CAACI,UAAf,CAA0B,WAA1B;AACD,CALM,C,CAOP;;AACA,OAAO,MAAMC,cAAc,GAAIC,KAAD,IAAW;AACvC,MAAIC,IAAI,GAAGC,QAAQ,CAACF,KAAD,CAAnB;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAP,EAAAA,cAAc,CAACW,OAAf,CAAuB,SAAvB,EAAiCJ,IAAI,CAACK,EAAtC;AACAZ,EAAAA,cAAc,CAACW,OAAf,CAAuB,eAAvB,EAAuCJ,IAAI,CAACM,QAA5C;AACAb,EAAAA,cAAc,CAACW,OAAf,CAAuB,WAAvB,EAAmCJ,IAAI,CAACO,IAAxC;AACAd,EAAAA,cAAc,CAACW,OAAf,CAAuB,OAAvB,EAA+BL,KAA/B;AACD,CAPM;;AAQP,SAASE,QAAT,CAAmBF,KAAnB,EAA0B;AACxB,MAAIS,SAAS,GAAGT,KAAK,CAACU,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAhB;AACA,MAAIC,MAAM,GAAGF,SAAS,CAACG,OAAV,CAAkB,IAAlB,EAAwB,GAAxB,EAA6BA,OAA7B,CAAqC,IAArC,EAA2C,GAA3C,CAAb;AACA,MAAIC,WAAW,GAAGC,kBAAkB,CAACC,IAAI,CAACJ,MAAD,CAAJ,CAAaD,KAAb,CAAmB,EAAnB,EAAuBM,GAAvB,CAA2B,UAASC,CAAT,EAAY;AACxE,WAAO,MAAM,CAAC,OAAOA,CAAC,CAACC,UAAF,CAAa,CAAb,EAAgBC,QAAhB,CAAyB,EAAzB,CAAR,EAAsCC,KAAtC,CAA4C,CAAC,CAA7C,CAAb;AACH,GAFoC,EAElCC,IAFkC,CAE7B,EAF6B,CAAD,CAApC;AAIA,SAAOC,IAAI,CAACC,KAAL,CAAWV,WAAX,CAAP;AACH;;AAAA","sourcesContent":["// return the token from the session storage\r\nexport const getUser = () => {\r\n    return sessionStorage.getItem('user_username');\r\n  }\r\n   \r\n  export const getToken = () => {\r\n    return sessionStorage.getItem('token') || null;\r\n  } \r\n  // remove the token and user from the session storage\r\n  export const removeUserSession = () => {\r\n    sessionStorage.removeItem('token');\r\n    sessionStorage.removeItem('user_id');\r\n    sessionStorage.removeItem('user_username');\r\n    sessionStorage.removeItem('user_role');\r\n  }\r\n   \r\n  // set the token and user from the session storage\r\n  export const setUserSession = (token) => {\r\n    let user = parseJwt(token);\r\n    console.log(user);\r\n    sessionStorage.setItem('user_id',user.id);\r\n    sessionStorage.setItem('user_username',user.username);\r\n    sessionStorage.setItem('user_role',user.role);\r\n    sessionStorage.setItem('token',token);\r\n  }\r\n  function parseJwt (token) {\r\n    var base64Url = token.split('.')[1];\r\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\r\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n    }).join(''));\r\n\r\n    return JSON.parse(jsonPayload);\r\n};"]},"metadata":{},"sourceType":"module"}