{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pauli\\\\Desktop\\\\groupC\\\\Frontend\\\\vp-app\\\\src\\\\components\\\\EditCabinBill\\\\EditCabinBillDialog.js\";\nimport React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport NativeSelect from '@material-ui/core/NativeSelect';\nimport { getToken, getUserId } from '../../Utils/Common';\nimport axios from 'axios';\nconst useStyles = makeStyles(theme => ({\n  formRoot: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: '25ch'\n    }\n  },\n  Infotxt: {\n    color: 'yellow'\n  }\n}));\nexport default function EditBillDialog(props) {\n  const token = getToken();\n  const [amount, setAmount] = useState(props.price);\n  const [duedate, setDuedate] = useState(props.duedate);\n  const [paid, setPaid] = useState(props.paid);\n  const [priceErrorMsg, setPriceErrorMsg] = useState(false);\n  const [serverErrorMsg, setServerErrorMsg] = useState(\"\");\n\n  const axiosPutBill = () => {\n    axios.put('http://localhost:3001/bill/' + props.id, {\n      amount: amount,\n      duedate: duedate,\n      paid: paid\n    }, {\n      headers: {\n        token: token\n      }\n    }).then(function (response) {\n      console.log(response);\n      setDialogOpen(false);\n      props.edit(false);\n      window.location.reload();\n    }).catch(function (error) {\n      console.log(error.response);\n      setServerErrorMsg(error.response.data.msg);\n    });\n  };\n\n  const handleEditClicked = () => {\n    let priceValidationError = false;\n\n    if (price < 0 || price == \"\") {\n      setPriceErrorMsg(\"Please insert price for the bill\");\n      priceValidationError = true;\n    } else {\n      priceValidationError = false;\n      setPriceErrorMsg(\"\");\n    }\n\n    if (priceValidationError === false) {\n      axiosPutBill();\n    }\n  };\n\n  const handleClose = () => {\n    setDialogOpen(false);\n    props.edit(false);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(Dialog, {\n    open: dialogOpen,\n    onClose: handleClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Edit bill info\"), React.createElement(DialogContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: classes.formRoot,\n    noValidate: true,\n    autoComplete: \"off\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Paid\"), React.createElement(NativeSelect, {\n    required: true,\n    id: \"paid\",\n    label: \"Paid\",\n    defaultValue: paid,\n    onChange: e => {\n      setPaid(parseInt(e.target.value, 10));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Yes\"), React.createElement(\"option\", {\n    value: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"No\")), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    error: nameErrorMsg != \"\",\n    helperText: nameErrorMsg,\n    required: true,\n    id: \"name\",\n    label: \"Cabin name\",\n    value: name,\n    onChange: e => {\n      setName(e.target.value);\n      e.target.value.length === 0 ? setNameErrorMsg(\"Please insert a cabin name\") : setNameErrorMsg(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    error: addressErrorMsg != \"\",\n    helperText: addressErrorMsg,\n    required: true,\n    id: \"address\",\n    label: \"Address\",\n    value: address,\n    onChange: e => {\n      setAddress(e.target.value);\n      e.target.value.length === 0 ? setAddressErrorMsg(\"Please insert an address\") : setAddressErrorMsg(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    error: postcodeErrorMsg != \"\",\n    helperText: postcodeErrorMsg,\n    required: true,\n    id: \"postcode\",\n    label: \"Postcode\",\n    value: postcode,\n    type: \"number\",\n    onChange: e => {\n      setPostcode(e.target.value);\n      e.target.value.length === 0 ? setPostcodeErrorMsg(\"Please insert a postcode\") : setPostcodeErrorMsg(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    error: postareaErrorMsg != \"\",\n    helperText: postareaErrorMsg,\n    required: true,\n    id: \"postarea\",\n    label: \"Postarea\",\n    value: postarea,\n    onChange: e => {\n      setPostarea(e.target.value);\n      e.target.value.length === 0 ? setPostareaErrorMsg(\"Please insert a postarea\") : setPostareaErrorMsg(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    error: sizeErrorMsg != \"\",\n    helperText: sizeErrorMsg,\n    required: true,\n    id: \"size\",\n    label: \"Cabin size (m2)\",\n    value: size,\n    type: \"number\",\n    onChange: e => {\n      setSize(e.target.value);\n      e.target.value.length === 0 ? setSizeErrorMsg(\"Please insert a size(m2) for the cabin\") : setSizeErrorMsg(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    error: priceErrorMsg != \"\",\n    helperText: priceErrorMsg,\n    required: true,\n    id: \"price\",\n    label: \"Price for a night(Eur)\",\n    value: price,\n    type: \"number\",\n    onChange: e => {\n      setPrice(e.target.value);\n      e.target.value.length === 0 ? setPriceErrorMsg(\"Please insert a price for a one night\") : setPriceErrorMsg(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    error: capacityErrorMsg != \"\",\n    helperText: capacityErrorMsg,\n    required: true,\n    id: \"capacity\",\n    label: \"Capacity\",\n    value: capacity,\n    type: \"number\",\n    InputProps: {\n      inputProps: {\n        min: 1,\n        max: 50\n      }\n    },\n    onChange: e => {\n      setCapacity(e.target.value);\n      e.target.value.length === 0 ? setCapacityErrorMsg(\"Please insert capacity for the cabin\") : setCapacityErrorMsg(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    variant: \"outlined\",\n    multiline: true,\n    rows: \"8\",\n    id: \"info\",\n    label: \"Additional information\",\n    value: info,\n    onChange: e => {\n      setInfo(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    style: {\n      color: \"red\",\n      fontWeight: 900,\n      fontSize: 14,\n      marginLeft: 155\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, serverErrorMsg), React.createElement(DialogActions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => handleEditClicked(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, \"Edit\"), React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => handleClose(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, \"Cancel\")))));\n}","map":{"version":3,"sources":["C:/Users/Pauli/Desktop/groupC/Frontend/vp-app/src/components/EditCabinBill/EditCabinBillDialog.js"],"names":["React","useState","useEffect","TextField","makeStyles","Button","Dialog","DialogActions","DialogContent","DialogTitle","NativeSelect","getToken","getUserId","axios","useStyles","theme","formRoot","margin","spacing","width","Infotxt","color","EditBillDialog","props","token","amount","setAmount","price","duedate","setDuedate","paid","setPaid","priceErrorMsg","setPriceErrorMsg","serverErrorMsg","setServerErrorMsg","axiosPutBill","put","id","headers","then","response","console","log","setDialogOpen","edit","window","location","reload","catch","error","data","msg","handleEditClicked","priceValidationError","handleClose","dialogOpen","classes","e","parseInt","target","value","nameErrorMsg","name","setName","length","setNameErrorMsg","addressErrorMsg","address","setAddress","setAddressErrorMsg","postcodeErrorMsg","postcode","setPostcode","setPostcodeErrorMsg","postareaErrorMsg","postarea","setPostarea","setPostareaErrorMsg","sizeErrorMsg","size","setSize","setSizeErrorMsg","setPrice","capacityErrorMsg","capacity","inputProps","min","max","setCapacity","setCapacityErrorMsg","info","setInfo","fontWeight","fontSize","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport {getToken, getUserId} from '../../Utils/Common';\r\nimport axios from 'axios';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    formRoot: {\r\n        '& .MuiTextField-root': {\r\n            margin: theme.spacing(1),\r\n            width: '25ch',\r\n        }\r\n    },\r\n    Infotxt: {\r\n        color: 'yellow',\r\n    }\r\n}));\r\n\r\nexport default function EditBillDialog(props) {\r\n\r\n    const token = getToken();\r\n\r\n    const [amount, setAmount] = useState(props.price);\r\n    const [duedate, setDuedate] = useState(props.duedate);\r\n    const [paid, setPaid] = useState(props.paid);\r\n\r\n    const[priceErrorMsg, setPriceErrorMsg] = useState(false);\r\n\r\n    const [serverErrorMsg, setServerErrorMsg] = useState(\"\");\r\n\r\n    const axiosPutBill = () => {\r\n        axios.put('http://localhost:3001/bill/'+ props.id, {\r\n            amount: amount,\r\n            duedate: duedate,\r\n            paid: paid\r\n        },\r\n            {\r\n                headers: {\r\n                    token: token\r\n                }\r\n            })\r\n            .then(function (response) {\r\n                console.log(response);\r\n                setDialogOpen(false);\r\n                props.edit(false);\r\n                window.location.reload();\r\n                \r\n                \r\n            })\r\n            .catch(function (error) {\r\n                console.log(error.response);\r\n                setServerErrorMsg(error.response.data.msg);\r\n            });\r\n\r\n    }\r\n\r\n    const handleEditClicked = () => {\r\n        let priceValidationError = false;\r\n\r\n        if (price < 0 || price == \"\") {\r\n            setPriceErrorMsg(\"Please insert price for the bill\");\r\n            priceValidationError = true;\r\n        }\r\n        else {\r\n            priceValidationError = false;\r\n            setPriceErrorMsg(\"\");\r\n        }\r\n\r\n        if (priceValidationError === false) {\r\n            axiosPutBill();\r\n        }\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setDialogOpen(false);\r\n        props.edit(false);\r\n    };\r\n\r\nreturn (\r\n    <div>\r\n        <Dialog open={dialogOpen} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n            <DialogTitle id=\"form-dialog-title\">Edit bill info</DialogTitle>\r\n            <DialogContent>\r\n                <form className={classes.formRoot} noValidate autoComplete=\"off\">\r\n                <p>Paid</p>\r\n            <NativeSelect\r\n                 required id=\"paid\" label=\"Paid\" defaultValue={paid}\r\n                  onChange={(e) => {\r\n                      setPaid(parseInt(e.target.value, 10));\r\n                  }}>\r\n                 <option value=\"1\">Yes</option>\r\n                 <option value=\"0\">No</option>\r\n                </NativeSelect>\r\n                <br />\r\n                <TextField error={nameErrorMsg != \"\"} helperText={nameErrorMsg} required id=\"name\" label=\"Cabin name\" value={name}\r\n                    onChange={(e) => {\r\n                        setName(e.target.value);\r\n                        (e.target.value.length === 0) ? setNameErrorMsg(\"Please insert a cabin name\") : setNameErrorMsg(\"\")\r\n                    }} />\r\n\r\n                <TextField error={addressErrorMsg != \"\"} helperText={addressErrorMsg} required id=\"address\" label=\"Address\" value={address}\r\n                    onChange={(e) => {\r\n                        setAddress(e.target.value);\r\n                        (e.target.value.length === 0) ? setAddressErrorMsg(\"Please insert an address\") : setAddressErrorMsg(\"\")\r\n                    }} />\r\n                <br />\r\n\r\n                <TextField error={postcodeErrorMsg != \"\"} helperText={postcodeErrorMsg} required id=\"postcode\" label=\"Postcode\" value={postcode}\r\n                    type=\"number\"\r\n                    onChange={(e) => {\r\n                        setPostcode(e.target.value);\r\n                        (e.target.value.length === 0) ? setPostcodeErrorMsg(\"Please insert a postcode\") : setPostcodeErrorMsg(\"\")\r\n                    }} />\r\n                <TextField error={postareaErrorMsg != \"\"} helperText={postareaErrorMsg} required id=\"postarea\" label=\"Postarea\" value={postarea}\r\n                    onChange={(e) => {\r\n                        setPostarea(e.target.value);\r\n                        (e.target.value.length === 0) ? setPostareaErrorMsg(\"Please insert a postarea\") : setPostareaErrorMsg(\"\")\r\n                    }} />\r\n                <br />\r\n                <TextField error={sizeErrorMsg != \"\"} helperText={sizeErrorMsg} required id=\"size\" label=\"Cabin size (m2)\" value={size}\r\n                    type=\"number\"\r\n                    onChange={(e) => {\r\n                        setSize(e.target.value);\r\n                        (e.target.value.length === 0) ? setSizeErrorMsg(\"Please insert a size(m2) for the cabin\") : setSizeErrorMsg(\"\")\r\n                    }} />\r\n                <TextField error={priceErrorMsg != \"\"} helperText={priceErrorMsg} required id=\"price\" label=\"Price for a night(Eur)\" value={price}\r\n                    type=\"number\"\r\n                    onChange={(e) => {\r\n                        setPrice(e.target.value);\r\n                        (e.target.value.length === 0) ? setPriceErrorMsg(\"Please insert a price for a one night\") : setPriceErrorMsg(\"\")\r\n                    }} />\r\n                <br />\r\n                <TextField error={capacityErrorMsg != \"\"} helperText={capacityErrorMsg} required id=\"capacity\" label=\"Capacity\" value={capacity}\r\n                    type=\"number\"\r\n                    InputProps={{ inputProps: { min: 1, max: 50 } }}\r\n                    onChange={(e) => {\r\n                        setCapacity(e.target.value);\r\n                        (e.target.value.length === 0) ? setCapacityErrorMsg(\"Please insert capacity for the cabin\") : setCapacityErrorMsg(\"\")\r\n                    }} />\r\n                <br/>\r\n                <TextField variant=\"outlined\" multiline rows = \"8\" id=\"info\" label=\"Additional information\" value={info}\r\n                    onChange={(e) => {\r\n                        setInfo(e.target.value);\r\n                    }} />\r\n            </form>\r\n            \r\n\r\n            </DialogContent>\r\n\r\n            <div>\r\n                <p style={{ color: \"red\", fontWeight: 900, fontSize: 14, marginLeft: 155 }}>{serverErrorMsg}</p>\r\n\r\n                <DialogActions>\r\n                    <Button variant=\"contained\" onClick={() => handleEditClicked()}>Edit</Button>\r\n                    <Button variant=\"contained\" onClick={() => handleClose()}>Cancel</Button>\r\n                </DialogActions>\r\n            </div>\r\n        </Dialog>\r\n    </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}