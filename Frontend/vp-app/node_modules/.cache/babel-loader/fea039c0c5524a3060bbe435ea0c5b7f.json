{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pauli\\\\Desktop\\\\groupC\\\\Frontend\\\\vp-app\\\\src\\\\components\\\\getCabinBills\\\\GetCabinBills.js\";\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport axios from 'axios';\nimport { getToken, getAdmin } from '../../Utils/Common';\nimport { set } from 'date-fns';\nimport EditCabinBillDialog from \"../EditCabinBill/EditCabinBillDialog\";\nconst useStyles = makeStyles(() => ({\n  searchButton: {\n    marginTop: 5,\n    backgroundColor: 'navy',\n    color: 'white',\n    '&:hover': {\n      background: \"white\",\n      color: 'navy'\n    }\n  },\n  TextField: {\n    marginTop: 15,\n    marginLeft: 15,\n    backgroundColor: 'white',\n    flex: 1,\n    borderRadius: 4\n  },\n  editButton: {\n    backgroundColor: 'navy',\n    color: 'white',\n    minWidth: 50,\n    float: 'left'\n  }\n}));\nconst defaultProps = {\n  bgcolor: 'background.paper',\n  m: 1,\n  border: 2,\n  padding: 2,\n  borderRadius: 16,\n  borderColor: 'navy'\n};\nconst statusBox = {\n  bgcolor: 'background.paper',\n  border: 2,\n  padding: 2,\n  borderRadius: 10,\n  borderColor: 'navy',\n  width: 200,\n  align: 'left'\n};\nexport default function GetCabinBills(props) {\n  const classes = useStyles();\n  const [bills, setBills] = useState([]);\n  const [personId, setPersonId] = useState(\"\");\n  const [billId, setBillId] = useState(\"\");\n  const [cabinId, setCabinId] = useState(\"\");\n  const [reservationId, setReservationId] = useState(\"\");\n  const [paidChecked, setPaidChecked] = useState(false);\n  const [openChecked, setOpenChecked] = useState(false);\n  const [edit, setEdit] = useState(false);\n  const [price, setPrice] = useState(\"\");\n  const [duedate, setDuedate] = useState(\"\");\n  const [paid, setPaid] = useState(\"\");\n  const [id, setId] = useState(\"\");\n  const [serverErrorMsg, setServerErrorMsg] = useState(\"\");\n  let token = getToken();\n  let dialog;\n\n  const axiosGetBills = query => {\n    axios.get(\"http://localhost:3001/bill?\" + query, {\n      headers: {\n        token: token\n      }\n    }).then(function (response) {\n      console.log(response);\n      setBills(response.data.Bills);\n    }).catch(function (error) {\n      console.log(error);\n      setServerErrorMsg(error);\n    });\n  };\n\n  const handlePostClicked = () => {\n    let query = \"\";\n\n    if (paidChecked) {\n      query += \"paid=\" + \"1\";\n    }\n\n    if (openChecked) {\n      query += \"paid=\" + \"0\";\n    }\n\n    if (billId != \"\") {\n      query += \"&bill_id=\" + billId;\n    }\n\n    if (personId != \"\") {\n      query += \"&person_id=\" + personId;\n    }\n\n    if (cabinId != \"\") {\n      query += \"&cabin_id=\" + cabinId;\n    }\n\n    if (reservationId != \"\") {\n      query += \"&reservation_id=\" + reservationId;\n    }\n\n    console.log(query);\n    axiosGetBills(query);\n  };\n\n  if (edit) {\n    dialog = React.createElement(EditCabinBillDialog, {\n      price: price,\n      paid: paid,\n      duedate: duedate,\n      id: id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    });\n  } else {\n    dialog = \"\";\n  }\n\n  return React.createElement(Box, Object.assign({\n    borderColor: \"navy\"\n  }, defaultProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"Cabin bills\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(Box, Object.assign({\n    borderColor: \"navy\"\n  }, statusBox, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, \"Bill status\"), \"Paid \", React.createElement(Checkbox, {\n    color: \"primary\",\n    disabled: openChecked,\n    checked: paidChecked,\n    onChange: e => setPaidChecked(paidChecked ? false : true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }), \"Open \", React.createElement(Checkbox, {\n    color: \"primary\",\n    disabled: paidChecked,\n    checked: openChecked,\n    onChange: e => setOpenChecked(openChecked ? false : true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  })), React.createElement(TextField, {\n    className: classes.TextField,\n    type: \"number\",\n    id: \"billId\",\n    label: \"Bill Id\",\n    value: billId,\n    onChange: e => setBillId(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    className: classes.TextField,\n    type: \"number\",\n    id: \"personId\",\n    label: \"Person Id\",\n    value: personId,\n    onChange: e => setPersonId(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    className: classes.TextField,\n    type: \"number\",\n    id: \"cabinId\",\n    label: \"Cabin Id\",\n    value: cabinId,\n    onChange: e => setCabinId(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    className: classes.TextField,\n    type: \"number\",\n    id: \"Reservation Id\",\n    label: \"Reservation Id\",\n    value: reservationId,\n    onChange: e => setReservationId(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  })), React.createElement(Button, {\n    variant: \"contained\",\n    className: classes.searchButton,\n    onClick: () => handlePostClicked(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, \"Search\"), React.createElement(\"p\", {\n    style: {\n      color: \"red\",\n      fontWeight: 900,\n      fontSize: 16,\n      marginLeft: 130\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, serverErrorMsg)), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(TableContainer, {\n    component: Paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"customized table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(TableHead, {\n    className: classes.tableHeader,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, \"Bill ID\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, \"Reservation ID\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, \"Cabin ID\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, \"Cabin Name\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, \"Person ID\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, \"Customer\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, \"Email\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, \"Amount\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, \"Due date\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, \"Status\"), React.createElement(TableCell, {\n    className: classes.tableHeaderCell,\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, \"Edit\"))), React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, bills.map((bill, i) => React.createElement(TableRow, {\n    key: i,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, bill.bill_id), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, bill.reservation_id), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, bill.cabin_id), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, bill.name), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, bill.person_id), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, bill.firstname, \" \", bill.lastname), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, bill.email), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, bill.amount, \"\\u20AC\"), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, bill.duedate), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, bill.paid == 0 ? \"Open\" : \"Paid\"), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, bill.arrivaldate), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, bill.leavedate), React.createElement(TableCell, {\n    align: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: classes.editButton,\n    onClick: () => edit ? setEdit(false) : setEdit(true) + setPrice(bill.price) + setPaid(bill.paid) + setDuedate(bill.duedate) + setId(bill.bill_id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, \"Edit\"))))))), dialog));\n}","map":{"version":3,"sources":["C:/Users/Pauli/Desktop/groupC/Frontend/vp-app/src/components/getCabinBills/GetCabinBills.js"],"names":["React","useState","useEffect","makeStyles","Button","Box","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","TextField","Checkbox","axios","getToken","getAdmin","set","EditCabinBillDialog","useStyles","searchButton","marginTop","backgroundColor","color","background","marginLeft","flex","borderRadius","editButton","minWidth","float","defaultProps","bgcolor","m","border","padding","borderColor","statusBox","width","align","GetCabinBills","props","classes","bills","setBills","personId","setPersonId","billId","setBillId","cabinId","setCabinId","reservationId","setReservationId","paidChecked","setPaidChecked","openChecked","setOpenChecked","edit","setEdit","price","setPrice","duedate","setDuedate","paid","setPaid","id","setId","serverErrorMsg","setServerErrorMsg","token","dialog","axiosGetBills","query","get","headers","then","response","console","log","data","Bills","catch","error","handlePostClicked","e","target","value","fontWeight","fontSize","table","tableHeader","tableHeaderCell","map","bill","i","bill_id","reservation_id","cabin_id","name","person_id","firstname","lastname","email","amount","arrivaldate","leavedate"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Box from '@material-ui/core/Box';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport axios from 'axios';\r\nimport { getToken, getAdmin } from '../../Utils/Common';\r\nimport { set } from 'date-fns';\r\nimport EditCabinBillDialog from \"../EditCabinBill/EditCabinBillDialog\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    searchButton: {\r\n        marginTop: 5,\r\n        backgroundColor: 'navy',\r\n        color: 'white',\r\n        '&:hover': {\r\n            background: \"white\",\r\n            color: 'navy',\r\n        },\r\n    },\r\n    TextField: {\r\n        marginTop: 15,\r\n        marginLeft: 15,\r\n        backgroundColor: 'white',\r\n        flex: 1,\r\n        borderRadius: 4\r\n    },\r\n    editButton: {\r\n        backgroundColor: 'navy',\r\n        color: 'white',\r\n        minWidth: 50,\r\n        float: 'left'\r\n    }\r\n}));\r\nconst defaultProps = {\r\n    bgcolor: 'background.paper',\r\n    m: 1,\r\n    border: 2,\r\n    padding: 2,\r\n    borderRadius: 16,\r\n    borderColor: 'navy'\r\n\r\n};\r\nconst statusBox = {\r\n    bgcolor: 'background.paper',\r\n    border: 2,\r\n    padding: 2,\r\n    borderRadius: 10,\r\n    borderColor: 'navy',\r\n    width : 200,\r\n    align : 'left'\r\n\r\n};\r\n\r\nexport default function GetCabinBills(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [bills, setBills] = useState([]);\r\n    const [personId, setPersonId] = useState(\"\");\r\n    const [billId, setBillId] = useState(\"\");\r\n    const [cabinId, setCabinId] = useState(\"\");\r\n    const [reservationId, setReservationId] = useState(\"\");\r\n    const [paidChecked, setPaidChecked] = useState(false);\r\n    const [openChecked, setOpenChecked] = useState(false);\r\n    const [edit, setEdit] = useState(false);\r\n\r\n    const [price, setPrice] = useState(\"\");\r\n    const [duedate, setDuedate] = useState(\"\");\r\n    const [paid, setPaid] = useState(\"\");\r\n    const [id, setId] = useState(\"\");\r\n\r\n    const [serverErrorMsg, setServerErrorMsg] = useState(\"\");\r\n\r\n    let token = getToken();\r\n\r\n    let dialog;\r\n\r\n    const axiosGetBills = (query) => {\r\n        axios.get(\"http://localhost:3001/bill?\" + query, {\r\n            headers: {\r\n                token: token\r\n            }\r\n        }).then(function (response) {\r\n            console.log(response);\r\n            setBills(response.data.Bills);\r\n        })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n                setServerErrorMsg(error);\r\n            })\r\n    }\r\n\r\n\r\n    const handlePostClicked = () => {\r\n        let query = \"\";\r\n\r\n        if(paidChecked){\r\n            query += \"paid=\" + \"1\";\r\n        }\r\n        if(openChecked){\r\n            query += \"paid=\" + \"0\";\r\n        }\r\n        if(billId != \"\"){\r\n            query += \"&bill_id=\" + billId;\r\n        }\r\n        if(personId != \"\"){\r\n            query += \"&person_id=\" + personId;\r\n        }\r\n        if(cabinId != \"\"){\r\n            query += \"&cabin_id=\" + cabinId;\r\n        }\r\n        if(reservationId != \"\"){\r\n            query += \"&reservation_id=\" + reservationId;\r\n        }\r\n        console.log(query);\r\n        axiosGetBills(query);\r\n    }\r\n\r\n    if(edit){\r\n        dialog = <EditCabinBillDialog price={price} paid={paid} duedate={duedate} id={id}/>;\r\n    }\r\n    else{\r\n        dialog = \"\";\r\n    }\r\n\r\n    return (\r\n\r\n        <Box borderColor=\"navy\" {...defaultProps}>\r\n            <h2>Cabin bills</h2>\r\n            <div>\r\n                <form>\r\n                    <Box borderColor=\"navy\" {...statusBox}> \r\n                    <h3>Bill status</h3>\r\n\r\n                    Paid <Checkbox  color=\"primary\" disabled = {openChecked}  checked={paidChecked} onChange={(e) => setPaidChecked(paidChecked ? false : true)}\r\n                    />\r\n                    Open <Checkbox  color=\"primary\" disabled = {paidChecked} checked={openChecked} onChange={(e) => setOpenChecked(openChecked ? false : true)}\r\n                    />\r\n                    <br/>\r\n                    </Box>\r\n                    <TextField className={classes.TextField} type=\"number\" id=\"billId\" label=\"Bill Id\" value={billId}\r\n                        onChange={(e) =>\r\n                            setBillId(e.target.value)} />\r\n                    <TextField className={classes.TextField} type=\"number\" id=\"personId\" label=\"Person Id\" value={personId}\r\n                        onChange={(e) =>\r\n                            setPersonId(e.target.value)} />\r\n                    <br />\r\n                    <TextField className={classes.TextField} type=\"number\" id=\"cabinId\" label=\"Cabin Id\" value={cabinId}\r\n                        onChange={(e) =>\r\n                            setCabinId(e.target.value)} />\r\n                    <TextField className={classes.TextField} type=\"number\" id=\"Reservation Id\" label=\"Reservation Id\" value={reservationId}\r\n                        onChange={(e) =>\r\n                            setReservationId(e.target.value)} />\r\n                </form>\r\n                \r\n                <Button variant=\"contained\" className={classes.searchButton} onClick={() => handlePostClicked()}>Search</Button>\r\n                <p style={{ color: \"red\", fontWeight: 900, fontSize: 16, marginLeft: 130 }}>{serverErrorMsg}</p>\r\n            </div>\r\n            <div>\r\n                <TableContainer component={Paper}>\r\n                    <Table className={classes.table} aria-label=\"customized table\">\r\n                        <TableHead className={classes.tableHeader}>\r\n                            <TableRow>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Bill ID</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Reservation ID</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Cabin ID</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Cabin Name</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Person ID</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Customer</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Email</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Amount</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Due date</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Status</TableCell>\r\n                                <TableCell className={classes.tableHeaderCell} align=\"left\">Edit</TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {bills.map((bill, i) => <TableRow key={i}>\r\n                                <TableCell align=\"left\">{bill.bill_id}</TableCell>\r\n                                <TableCell align=\"left\">{bill.reservation_id}</TableCell>\r\n                                <TableCell align=\"left\">{bill.cabin_id}</TableCell>\r\n                                <TableCell align=\"left\">{bill.name}</TableCell>\r\n                                <TableCell align=\"left\">{bill.person_id}</TableCell>\r\n                                <TableCell align=\"left\">{bill.firstname} {bill.lastname}</TableCell>\r\n                                <TableCell align=\"left\">{bill.email}</TableCell>\r\n                                <TableCell align=\"left\">{bill.amount}€</TableCell>\r\n                                <TableCell align=\"left\">{bill.duedate}</TableCell>\r\n                                <TableCell align=\"left\">{bill.paid == 0 ? \"Open\" : \"Paid\"}</TableCell>\r\n                                <TableCell align=\"left\">{bill.arrivaldate}</TableCell>\r\n                                <TableCell align=\"left\">{bill.leavedate}</TableCell>\r\n                                <TableCell align=\"left\"><Button className={classes.editButton}  onClick={() => edit ? setEdit(false) : setEdit(true) + setPrice(bill.price) + setPaid(bill.paid) + setDuedate(bill.duedate) + setId(bill.bill_id)}>Edit</Button></TableCell>\r\n                            </TableRow>)}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n              {dialog}\r\n            </div>\r\n        </Box>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}